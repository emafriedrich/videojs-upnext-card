/**
 * videojs-upnext
 * @version 2.0.5
 * @copyright 2017 Fernando Godino <fernando@varsityviews.com>
 * @license Apache-2.0
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.videojsUpnext=t()}}(function(){return function t(e,n,i){function o(a,r){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'+t.headText+'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">Cancel</button>\n      </span>\n    </span>\n  '}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var o=t,s=e,a=n;i=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,s);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;t=u,e=s,n=a,i=!0,r=u=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,u=e(l),f=u.default.registerPlugin||u.default.plugin,c=u.default.getComponent("Component"),p=function(t){function e(t,n){var o=this;i(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.getTitle=this.options_.getTitle,this.next=this.options_.next,this.upNextEvents=new u.default.EventTarget,this.dashOffsetTotal=586,this.dashOffsetStart=293,this.interval=50,this.chunkSize=(this.dashOffsetTotal-this.dashOffsetStart)/(this.options_.timeout/this.interval),t.on("ended",function(e){t.addClass("vjs-upnext"),o.showCard(function(e){t.removeClass("vjs-upnext"),o.container.style.display="none",e||o.next()})}),t.on("playing",function(){this.upNextEvents.trigger("playing")}.bind(this))}return o(e,t),a(e,[{key:"createEl",value:function(){var t=r(Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"vjs-upnext-content",innerHTML:s(this.options_)});return this.container=t,t.style.display="none",this.autoplayRing=t.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=t.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=t.getElementsByClassName("vjs-upnext-cancel-button")[0],this.nextButton=t.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){this.upNextEvents.trigger("cancel")}.bind(this),this.nextButton.onclick=function(){this.upNextEvents.trigger("next")}.bind(this),t}},{key:"showCard",value:function(t){var e=void 0,n=void 0,i=void 0,o=void 0;this.autoplayRing.setAttribute("stroke-dasharray",this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",-this.dashOffsetStart),this.title.innerHTML=this.getTitle(),this.upNextEvents.one("cancel",function(){clearTimeout(e),t(!0)}),this.upNextEvents.one("playing",function(){clearTimeout(e),t(!0)}),this.upNextEvents.one("next",function(){clearTimeout(e),t(!1)});var s=function s(){i=this.options_.timeout-((new Date).getTime()-n),i<=0?(clearTimeout(e),t(!1)):(o=Math.max(-this.dashOffsetTotal,this.autoplayRing.getAttribute("stroke-dashoffset")-this.chunkSize),this.autoplayRing.setAttribute("stroke-dashoffset",o),e=setTimeout(s.bind(this),this.interval))};this.container.style.display="block",n=(new Date).getTime(),e=setTimeout(s.bind(this),this.interval)}}]),e}(c);n.EndCard=p,u.default.registerComponent("EndCard",p);var d=function(t){var e=t||{},n={next:e.next,getTitle:e.getTitle,timeout:e.timeout||5e3,headText:e.headText||"Up Next"};this.addChild("endCard",n)};f("upnext",d),n.default=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});